function showalert(e,t,n){"use strict";$("#alert_placeholder").append('<div id="alertdiv" class="alert '+t+'"><a class="close" data-dismiss="alert">x</a><span>'+e+"</span></div>");if(n){$(n).addClass("disabled");$("#alert_placeholder").bind("closed.bs.alert",function(){$(n).removeClass("disabled")})}setTimeout(function(){$("#alertdiv").remove();if(n){$(n).removeClass("disabled")}},3e3)}$("#process").click(function(){"use strict";var e=new Date,t=$("#source_path").val(),n=$("#dest_path").val(),r=parseUri(t).file.split("."),i=parent.image_from_web_settings.plugin_path+"functions.php",s=$("#credit_link").val(),o=$("#credit_msg").val();if(t===""){showalert("Please enter a url!","alert-danger","#process");return false}if(n===""){n="%date%-%src_name%.%src_ext%"}if(s===""){s=t}if(o===""){o=parseUri(s).host}if(parent.image_from_web_settings.credit_show===false){o=""}else{o=parent.image_from_web_settings.credit_msg.replace("%link%","<a href='"+s+"' target='_blank'>"+o+"</a>")}n=parent.image_from_web_settings.upload_path+n.replace("%date%",e.toISOString().split("T")[0]).replace("%src_name%",r[0]).replace("%src_ext%",r[1]).replace(/ /g,"-");$.get(i,{task:"save_file",src:t,dest:n,location:i}).done(function(e){var t="<p><img src='"+e+"' />"+o;if($("#image").is(":empty")){$("#image").append(t);return false}$("#image").html("");$("#image").append(t)})});$("#image").click(function(){"use strict";parent.tinymce.activeEditor.insertContent($("#image").html());parent.tinymce.activeEditor.windowManager.close()})